(()=>{var e={};e.id=2870,e.ids=[2870],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},69187:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>g,tree:()=>c});var a=t(50482),i=t(69108),s=t(62563),n=t.n(s),o=t(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c=["",{children:["(freelancer)",{children:["freelancerGigs",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,26049)),"E:\\rozgaar-mongodb\\frontend\\app\\(freelancer)\\freelancerGigs\\create\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,94508)),"E:\\rozgaar-mongodb\\frontend\\app\\(freelancer)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,28489)),"E:\\rozgaar-mongodb\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["E:\\rozgaar-mongodb\\frontend\\app\\(freelancer)\\freelancerGigs\\create\\page.tsx"],p="/(freelancer)/freelancerGigs/create/page",u={require:t,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(freelancer)/freelancerGigs/create/page",pathname:"/freelancerGigs/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},34537:(e,r,t)=>{Promise.resolve().then(t.bind(t,38965))},38965:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var a=t(95344),i=t(9046),s=t(8428),n=t(3729),o=t(16212),l=t(92549),c=t(1586),d=t(93601),p=t(25092),u=t(18117),g=t(17470);let m=["Web Development","Mobile Development","Graphic Design","Content Writing","Digital Marketing"];function h({initialData:e}){let r=(0,s.useRouter)(),{toast:t}=(0,p.pm)(),[i,h]=(0,n.useState)(!1),[x,y]=(0,n.useState)({title:e?.title||"",description:e?.description||"",price:e?.price||1,category:e?.category||"Web Development",image:e?.image||"https://placehold.co/600x400",durationDays:e?.durationDays||7}),f=async a=>{a.preventDefault(),h(!0);try{if(x.title.length<3)throw Error("Title must be at least 3 characters long");if(x.description.length<10)throw Error("Description must be at least 10 characters long");if(x.price<1)throw Error("Price must be at least 1");if(!m.includes(x.category))throw Error("Invalid category selected");e?.id?(await u.h.put(`/gigs/${e.id}`,x),t({title:"Success",description:"Gig updated successfully"})):(await u.h.post("/gigs",x),t({title:"Success",description:"Gig created successfully"})),r.push("/dashboard")}catch(e){console.error("Error creating gig:",e),t({title:"Error",description:e instanceof Error?e.message:"Failed to save gig. Please try again.",variant:"destructive"})}finally{h(!1)}};return(0,a.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{htmlFor:"title",children:"Title"}),a.jsx(l.I,{id:"title",value:x.title,onChange:e=>y({...x,title:e.target.value}),placeholder:"Enter gig title (minimum 3 characters)",required:!0,minLength:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{htmlFor:"description",children:"Description"}),a.jsx(d.g,{id:"description",value:x.description,onChange:e=>y({...x,description:e.target.value}),placeholder:"Describe your gig (minimum 10 characters)",required:!0,minLength:10})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{htmlFor:"price",children:"Price"}),a.jsx(l.I,{id:"price",type:"number",value:x.price,onChange:e=>{let r=e.target.value,t=""===r?1:parseFloat(r);y({...x,price:isNaN(t)?1:t})},placeholder:"Enter price",required:!0,min:1})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{htmlFor:"durationDays",children:"Delivery Time (days)"}),a.jsx(l.I,{id:"durationDays",type:"number",value:x.durationDays,onChange:e=>{let r=e.target.value,t=""===r?7:parseInt(r);y({...x,durationDays:isNaN(t)?7:t})},placeholder:"Enter delivery time in days",required:!0,min:1})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{htmlFor:"category",children:"Category"}),(0,a.jsxs)(g.Ph,{value:x.category,onValueChange:e=>y({...x,category:e}),children:[a.jsx(g.i4,{children:a.jsx(g.ki,{placeholder:"Select a category"})}),a.jsx(g.Bw,{children:m.map(e=>a.jsx(g.Ql,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{htmlFor:"image",children:"Image URL"}),a.jsx(l.I,{id:"image",type:"url",value:x.image,onChange:e=>y({...x,image:e.target.value}),placeholder:"Enter image URL",required:!0})]}),a.jsx(o.z,{type:"submit",disabled:i,children:i?"Saving...":e?.id?"Update Gig":"Create Gig"})]})}function x(){let{user:e,loading:r}=(0,i.useAuth)();return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex flex-col items-center justify-center space-y-8 text-center",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})}):(e||(0,s.redirect)("/login"),a.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"mx-auto max-w-2xl",children:[a.jsx("h1",{className:"mb-8 text-3xl font-bold",children:"Create a New Gig"}),a.jsx(h,{})]})}))}},26049:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>s,__esModule:()=>i,default:()=>n});let a=(0,t(86843).createProxy)(String.raw`E:\rozgaar-mongodb\frontend\app\(freelancer)\freelancerGigs\create\page.tsx`),{__esModule:i,$$typeof:s}=a,n=a.default}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[632,110,7842,6245,9965,6592,6310,9074,781,8057,4991,423,8844,5007,6851,3079,5312,432,2385],()=>t(69187));module.exports=a})();